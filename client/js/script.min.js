$(document).ready(function(){$("html, body").animate({scrollTop:0},"fast"),sessionStorage.clear();const e="https://artful-nz.herokuapp.com";let t;function o(e){document.getElementById("memberName").innerHTML='<h1 class="d-block text-center mt-4 mb-5">'+e+"'s Account </h1>"}function n(e){document.getElementById("artsDeck").innerHTML=e.map(e=>`<div class="col-sm-12 col-md-6 col-lg-4 my-xs-1 my-sm-1 my-md-3 my-lg-3">\n        <div class="card card-border rounded-0 mb-4">\n\n        <img src="${e.image}" id="${e._id}" alt="Avatar" class="card-img-top radius viewMoreButton">\n\n        <div class="card-body artcard-body mx-1 my-1">\n        <div class="artcard-columnwrap">\n        <h4 class="card-title mb-3">${e.title}</h4>\n        <h5 class="card-title artcard-price">&dollar;${e.price}</h5>\n        </div>\n        <p class="card-title"><b> <a href="${e.authorInfo.website}" class="card-link artcard-link">${e.authorInfo.username}</a>, ${e.authorInfo.location}</b></p>\n        <p class="mb-3 text-truncate">${e.description}</p>\n        <div class="artcard-columnwrap mt-4">\n        <p class="card-title h5-cyan">${e.category}</p>\n        <div class="button viewMoreButton btn-font" id="${e._id}">View</div>\n        </div>\n        </div>\n\n        </div>\n        </div>`).join(" ");let t=document.getElementsByClassName("viewMoreButton");for(let e=0;e<t.length;e++)t[e].addEventListener("click",i)}function i(t){let o=t.target.id;$.ajax({url:`${e}/portfolioWithAuthor/${o}`,type:"GET",dataType:"json",success:function(e){!function(e){let t,o,n=sessionStorage.getItem("username");t=e.comments.map(function(e){return n&&e.postByUsername===n?`<div class="col-sm-12 col-lg-12 col-md-10">\n                                                            <div class="comment-container comment-right mb-3">\n                                                                <div class="comment-info">\n                                                                    <strong class="mr-1">You</strong>\n                                                                    <p>on ${r(e.posted)}</p>\n                                                                </div>\n                                                                <p><b>${e.text}</b></p>\n                                                            </div>\n                                                        </div>`:e.postByUsername!==n?`<div class="col-sm-12 col-lg-12 col-md-10">\n                                                            <div class="comment-container comment-left mb-3">\n                                                                <div class="comment-info">\n                                                                    <strong class="mr-1">${e.postByUsername}</strong>\n                                                                    <p>on ${r(e.posted)}</p>\n                                                                </div>\n                                                                <p>${e.text}</p>\n                                                            </div>\n                                                        </div>`:void 0}).join(" "),o=n?'<div class="col-12 col-sm-12 col-lg-10 col-md-10 mx-auto">\n                                        <label for="viewMorePage-postComment"\n                                              class="nav-font">\n                                              Comment:\n                                        </label>\n                                        <textarea id="viewMorePage-postComment"\n                                                  class="col-12 col-sm-12 col-lg-10 col-md-10"\n                                                  rows="4"\n                                                  cols="100">\n                                        </textarea>\n                                        <div class="col-12 col-sm-12 col-lg-11 col-md-11">\n                                            <div id="viewMorePage-postCommentButton"\n                                                class="button btn-font bg-dark float-right mt-2 mb-5">\n                                                Submit\n                                            </div>\n                                        </div>\n                                    </div>':'\n                                    <div class="text-center mb-5">Please log in to add comment</div>',document.getElementById("viewMorePage").innerHTML=`\n                                                        <div id="viewMorePage-artInfo">\n                                                            <h5 class="h3">${e.title}</h5>\n                                                            <div class="viewMore-photoBackground">\n                                                                <img src="${e.image}"\n                                                                    class="viewMore-mainPhoto img-fluid"\n                                                                    alt="${e.title} photo">\n                                                            </div>\n                                                            <div class="flexContainer-row mt-3 mb-3">\n                                                                <h5 class="h4">${e.authorInfo.username}</h5>\n                                                                <h5 class="card-title h4 artcard-price">&dollar;${e.price}</h5>\n                                                            </div>\n                                                            <p>${e.description}</p>\n                                                            <strong class="mb-5">Location: ${e.authorInfo.location}</strong>\n                                                            <br/>\n                                                            <a href="${e.authorInfo.website}"\n                                                              class="artcard-link">\n                                                              ${e.authorInfo.website}\n                                                            </a>\n                                                            <div class="artcard-columnwrap mt-5 viewMore-endBoarder">\n                                                                <p class="card-title h5-cyan">${e.category}</p>\n                                                                <div id="${e._id}"\n                                                                    class="bg-info text-white radius py-2 px-3 btn-font">\n                                                                    Buy Now\n                                                                </div>\n                                                            </div>\n                                                            <button id="backToLanding"\n                                                                    type="button"\n                                                                    class="btn btn-dark mt-3 mb-5 btn-font radius">\n                                                                    Back\n                                                            </button>\n                                                        </div>\n                                                        <div class="bg-light pt-5">\n                                                            <div class="row mx-auto">\n                                                                <div class="col-12 mb-5">\n                                                                    <h5 class="text-center">\n                                                                        Questions About This Artwork\n                                                                    </h5>\n                                                                </div>\n                                                                <div class="col-sm-12 col-md-8 mx-auto">\n                                                                    <div id="viewMorePage-comments"\n                                                                        class="mb-5">\n                                                                        ${t}\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n\n                                                            <div class="row mx-auto">\n                                                                <div class="col-12 mb-4 mt-3">\n                                                                    <h5 class="text-center">\n                                                                        Ask the Artist a Question\n                                                                    </h5>\n                                                                </div>\n                                                                <div id="viewMorePage-addCommentWrapper"\n                                                                    class="row mx-auto">\n                                                                    ${o}\n                                                                </div>\n                                                            </div>\n                                                        </div>`,$("html, body").animate({scrollTop:0},"fast"),document.getElementById("backToLanding").addEventListener("click",function(){$("#viewMorePage").hide(),$("#landingPage").show(),sessionStorage.removeItem("currentPortfolio")}),document.getElementById("viewMorePage").contains(document.getElementById("viewMorePage-postCommentButton"))&&document.getElementById("viewMorePage-postCommentButton").addEventListener("click",a)}(e[0]),sessionStorage.setItem("currentPortfolio",e[0]._id),$("#viewMorePage").show(),$("#projectPage").hide(),$("#landingPage").hide(),0!==e[0].comments.length||(document.getElementById("viewMorePage-comments").innerHTML='<div id="noCommentNote"\n                                                                                  class="text-center">\n                                                                                  There has not been any question about this artwork</div>')},error:function(e){console.log("Error: "+e)}})}function a(){let t=$("textarea#viewMorePage-postComment").val(),o=Date.now(),n=sessionStorage.getItem("currentPortfolio"),i=sessionStorage.getItem("memberId"),a=sessionStorage.getItem("username");$.ajax({url:`${e}/addComment`,type:"POST",data:{portfolioID:n,postByID:i,postByUsername:a,postDate:o,content:t},success:function(e){$("textarea#viewMorePage-postComment").val(""),function(e){let t=`\n                      <div class="col-sm-12 col-lg-12 col-md-10">\n                          <div class="comment-container comment-right mb-3">\n                              <div class="comment-info">\n                                  <strong class="mr-1">You</strong>\n                                  <p>on ${r(e.posted)}</p>\n                              </div>\n                              <p><b>${e.text}</b></p>\n                          </div>\n                      </div>`,o=document.getElementById("viewMorePage-comments"),n=document.getElementById("noCommentNote");o.contains(n)&&n.remove();document.getElementById("viewMorePage-comments").innerHTML+=t}(e)},error:function(e){console.log(e)}})}function r(e){let t=new Date(e);return`${t.getDate()}/${t.getMonth()}/${t.getFullYear()} at ${t.getHours()}:${(t.getMinutes()<10?"0":"")+t.getMinutes()}`}function s(e){let t=e.about?e.about:"",o=e.website?e.website:"",n=e.location?e.location:"";document.getElementById("memberAccount").innerHTML=`<div class="flexContainer-flexStart mb-1">\n                <strong class="userInfoField">Username:</strong>\n                <div>${e.username}</div>\n            </div>\n            <div class="flexContainer-flexStart mb-1">\n                <strong class="userInfoField">Email:</strong>\n                <div>${e.email}</div>\n            </div>\n            <div class="flexContainer-flexStart mb-1">\n                <strong class="userInfoField">About:</strong>\n                <div>${t}</div>\n            </div>\n            <div class="flexContainer-flexStart mb-1">\n                <strong class="userInfoField">Location:</strong>\n                <div>${n}</div>\n            </div>\n            <div class="flexContainer-flexStart mb-1">\n                <strong class="userInfoField">Website:</strong>\n                <a>${o}</a>\n            </div>`}function l(t){t.preventDefault();let o=sessionStorage.getItem("memberId"),n=$("#editUserForm__username").val(),i=$("#editUserForm__email").val(),a=$("#editUserForm__description").val(),r=$("#editUserForm__location").val(),l=$("#editUserForm__website").val();$.ajax({url:`${e}/updateMember/${o}`,type:"PATCH",data:{username:n,email:i,about:a,location:r,website:l},success:function(e){s(e),$("#updateMemberBtn").show()},error:function(e){console.log(e)}})}function d(){s({about:"undefined"!==sessionStorage.getItem("about")?sessionStorage.getItem("about"):"",website:"undefined"!==sessionStorage.getItem("website")?sessionStorage.getItem("website"):"",location:"undefined"!==sessionStorage.getItem("location")?sessionStorage.getItem("location"):"",username:sessionStorage.getItem("username"),email:sessionStorage.getItem("email")}),$("#updateMemberBtn").show()}function c(){let t=sessionStorage.getItem("memberId");t&&$.ajax({url:`${e}/myPortfolios/${t}`,type:"GET",success:function(e){var t;"No portfolio by this user found"!==e?(t=e,document.getElementById("myProjectCards").innerHTML=t.map(e=>`<div class="card\n                                                                                    portfolioCard\n                                                                                    border-bottom">\n                                                                            <div style="background-image:url(${e.image})"\n                                                                                class="portfolioPage-image"></div>\n                                                                            <h5 class="portfolioPage-cardTitle\n                                                                                      card-text mb-3">\n                                                                                      ${e.title}</h5>\n                                                                            <div id="portfolioCard__buttonWrapper${e._id}"\n                                                                                class="row mb-2">\n                                                                                <div class="col-sm-12\n                                                                                            col-md-4\n                                                                                            col-lg-4">\n                                                                                    <div id="${e._id}"\n                                                                                        class="button\n                                                                                                viewMoreButton\n                                                                                                btn-font\n                                                                                                mb-3">\n                                                                                                View</div>\n                                                                                </div>\n                                                                                <div class="col-sm-12\n                                                                                            col-md-4\n                                                                                            col-lg-4">\n                                                                                    <div id="edit${e._id}"\n                                                                                        class="editButton\n                                                                                                btn-dark\n                                                                                                btn-font\n                                                                                                radius\n                                                                                                py-2\n                                                                                                px-2\n                                                                                                mb-3">\n                                                                                                Edit</div>\n                                                                                </div>\n                                                                                <div class="col-sm-12\n                                                                                            col-md-4\n                                                                                            col-lg-4">\n                                                                                    <div id="delete${e._id}"\n                                                                                        class="deleteButton\n                                                                                                btn-red radius\n                                                                                                px-3 py-2\n                                                                                                mb-3\n                                                                                                btn-font\n                                                                                                float-lg-right">\n                                                                                                Delete</div>\n                                                                                </div>\n                                                                            </div>\n                                                                        </div>`).join(" "),m()):document.getElementById("myProjectCards").innerHTML='<div class="noPortfolio text-center">You have not uploaded a project yet</div>'},error:function(e){console.log(e)}})}function m(){let e=document.getElementsByClassName("viewMoreButton");for(let t=0;t<e.length;t++)e[t].addEventListener("click",i);let t=document.getElementsByClassName("editButton");for(let e=0;e<t.length;e++)t[e].addEventListener("click",g);let o=document.getElementsByClassName("deleteButton");for(let e=0;e<o.length;e++)o[e].addEventListener("click",u)}function g(t){const o=t.target.id.slice(4);sessionStorage.setItem("projectOnEdit",o),$.ajax({url:`${e}/findProject/${o}`,type:"GET",dataType:"json",success:function(e){$("#updatePortfolioTitle").val(e.title),$("#updatePortfolioDescription").val(e.description),$("#updatePortfolioImage").val(e.image),$("#updatePortfolioCategory").val(e.category),$("#updatePortfolioPrice").val(e.price),$("#projectPage").hide(),$("#updatePortfolioPage").show()},error:function(e){console.log(e)}})}function u(e){let t=e.target.id.slice(6);sessionStorage.setItem("projectOnDelete",t);let o=`portfolioCard__buttonWrapper${t}`;document.getElementById(o).innerHTML='<div class="mx-auto">\n                                    <p class="text-center">\n                                        Are you sure you want to delete this project?</p>\n                                    <button id="abortDeleteProject"\n                                            class="btn btn-danger btn-font back-portfolio radius float-left">\n                                            Cancel</button>\n                                    <button id="confirmDeleteProject"\n                                            type="button"\n                                            class="btn btn-dark btn-font float-right radius">\n                                            Delete</button>\n                              </div>',document.getElementById("confirmDeleteProject").addEventListener("click",f),document.getElementById("abortDeleteProject").addEventListener("click",p)}function f(){let t=sessionStorage.getItem("projectOnDelete");$.ajax({url:`${e}/deletePortfolio/${t}`,type:"DELETE",success:function(e){sessionStorage.removeItem("projectOnDelete"),c()},error:function(e){console.log(e)}})}function p(e){let t=sessionStorage.getItem("projectOnDelete"),o=`portfolioCard__buttonWrapper${t}`;document.getElementById(o).innerHTML=`<div class="col-sm-12 col-md-4 col-lg-4">\n                                    <div id="${t}"\n                                        class="button viewMoreButton btn-font mb-3">\n                                        View\n                                    </div>\n                                </div>\n                                <div class="col-sm-12 col-md-4 col-lg-4">\n                                    <div id="edit${t}"\n                                        class="editButton btn-dark btn-font radius py-2 px-2 mb-3">\n                                        Edit\n                                    </div>\n                                </div>\n                                <div class="col-sm-12 col-md-4 col-lg-4">\n                                    <div id="delete${t}"\n                                        class="deleteButton btn-red radius px-3 py-2 mb-3 btn-font float-lg-right">\n                                        Delete\n                                    </div>\n                              </div>`,m()}$.ajax({url:`${e}/portfoliosAndAuthors`,type:"GET",dataType:"json",success:function(e){n(e)},error:function(e){console.log("Error: "+e)}}),$(document).ajaxStart(function(){$(".loader").css("display","block"),clearTimeout(t)}),$(document).ajaxComplete(function(){t=setTimeout(function(){$(".loader").css("display","none")},1500)}),sessionStorage.username?($("#logoutBtn").show(),$(".home-btn").show(),$("#myPortfolioBtn").show(),$("#loginBtn").hide(),$("#signUpBtn").hide(),o(sessionStorage.username),$("#landingPage").show(),$("#viewMorePage").hide(),$("#loginPage").hide(),$("#signUpPage").hide(),$("#projectPage").hide(),$("#uploadPortfolioPage").hide(),$("#updatePortfolioPage").hide()):($("#logoutBtn").hide(),$("#myPortfolioBtn").hide(),$(".home-btn").show(),$("#loginBtn").show(),$("#signUpBtn").show(),$("#landingPage").show(),$("#viewMorePage").hide(),$("#loginPage").hide(),$("#signUpPage").hide(),$("#projectPage").hide(),$("#uploadPortfolioPage").hide(),$("#updatePortfolioPage").hide()),$(".home-btn").click(function(){$("#landingPage").show(),$("#viewMorePage").hide(),$("#loginPage").hide(),$("#signUpPage").hide(),$("#projectPage").hide(),$("#uploadPortfolioPage").hide(),$("#updatePortfolioPage").hide()}),$("#loginBtn").click(function(){$("#loginPage").show(),$("#landingPage").hide(),$("#viewMorePage").hide(),$("#signUpPage").hide(),$("#projectPage").hide(),$("#uploadPortfolioPage").hide(),$("#updatePortfolioPage").hide()}),$("#signUpBtn").click(function(){$("#signUpPage").show(),$("#projectPage").hide(),$("#loginPage").hide(),$("#landingPage").hide(),$("#viewMorePage").hide(),$("#uploadPortfolioPage").hide(),$("#updatePortfolioPage").hide()}),$("#myPortfolioBtn").click(function(){c(),function(){let t=sessionStorage.getItem("memberId");if(!t)return;$.ajax({url:`${e}/myAccountInfo/${t}`,type:"GET",dataType:"json",success:function(e){s(e)},error:function(e){console.log(e)}})}(),$("#projectPage").show(),$("#signUpPage").hide(),$("#loginPage").hide(),$("#landingPage").hide(),$("#viewMorePage").hide(),$("#uploadPortfolioPage").hide(),$("#updatePortfolioPage").hide()}),$("#addPortfolio").click(function(){$("html, body").animate({scrollTop:0},"fast"),$("#uploadPortfolioPage").show(),$("#projectPage").hide(),$("#signUpPage").hide(),$("#loginPage").hide(),$("#landingPage").hide(),$("#viewMorePage").hide(),$("#updatePortfolioPage").hide()}),$(".back-portfolio").click(function(){$("#projectPage").show(),$("#uploadPortfolioPage").hide(),$("#signUpPage").hide(),$("#loginPage").hide(),$("#landingPage").hide(),$("#viewMorePage").hide(),$("#updatePortfolioPage").hide()}),$("#updateProject").click(function(){$("#uploadPortfolioPage").hide(),$("#projectPage").hide(),$("#signUpPage").hide(),$("#loginPage").hide(),$("#landingPage").hide(),$("#viewMorePage").hide(),$("#updatePortfolioPage").show()}),$("#deleteProject").click(function(){$("#uploadPortfolioPage").hide(),$("#projectPage").hide(),$("#signUpPage").hide(),$("#loginPage").hide(),$("#landingPage").hide(),$("#viewMorePage").hide(),$("#updatePortfolioPage").hide()}),$(".edit-button").click(function(){$("html, body").animate({scrollTop:0},"fast")}),$("#logoutBtn").click(function(){sessionStorage.clear(),$("#landingPage").show(),$("#loginPage").hide(),$("#signUpPage").hide(),$("#projectPage").hide(),$("#uploadPortfolioPage").hide(),$("#updatePortfolio").hide(),location.reload("#loginForm")}),$("#viewMembersBtn").click(function(){$.ajax({url:`${e}/allMembers`,type:"GET",dataType:"json",success:function(e){$("#membersCards").empty(),document.getElementById("membersCards").innerHTML+='<h2 class="pt-5 pb-4">All Members</h2>';for(let t=0;t<e.length;t++)document.getElementById("membersCards").innerHTML+=`<div class="col mt-3">\n          <h4> ${e[t].username}</h4>\n          </div>`},error:function(){}})}),$("#registerForm").submit(function(){event.preventDefault();let t=$("#registerUsername").val(),o=$("#registerEmail").val(),n=$("#registerPassword").val();$.ajax({url:`${e}/registerMember`,type:"POST",data:{username:t,email:o,password:n},success:function(e){"Members name is already taken. Please choose another name"!==e?(Swal.fire({title:"Account Created!",text:"Your account has been created, please login to activate your account",icon:"success",confirmButtonText:"OK"}),$("#loginBtn").show(),$("#registerBtn").hide(),$("#loginPage").show(),$("#signUpPage").hide()):(Swal.fire({title:"Error!",text:"Username already taken. Please try another one",icon:"error",confirmButtonText:"OK"}),$("#registerUsername").val(""),$("#registerEmail").val(""),$("#registerPassword").val(""))},error:function(e){console.log(e)}})}),$("#loginForm").submit(function(){event.preventDefault();let t=$("#inputUsernameLogin").val(),n=$("#inputPasswordLogin").val();$.ajax({url:`${e}/loginMember`,type:"POST",data:{username:t,password:n},success:function(e){" "===e?Swal.fire({title:"Empty Input Field",text:"Please fill in all input fields",icon:"warning",confirmButtonText:"OK"}):"Member not found. Please register"===e?Swal.fire({title:"Not Registered",text:"Member not found. Please register",icon:"warning",confirmButtonText:"OK"}):"Not Authorized"===e?Swal.fire({title:"Opps",text:"Incorrect username or password",icon:"error",confirmButtonText:"OK"}):(sessionStorage.setItem("memberId",e._id),sessionStorage.setItem("username",e.username),sessionStorage.setItem("email",e.email),sessionStorage.setItem("location",e.location),sessionStorage.setItem("website",e.website),sessionStorage.setItem("about",e.about),o(t),$("#logoutBtn").show(),$("#myPortfolioBtn").show(),$("#loginBtn").hide(),$("#signUpBtn").hide(),$("#landingPage").show(),$("#loginPage").hide(),$("html, body").animate({scrollTop:0},"fast"))},error:function(){console.log("error: cannot call api")}})}),$("#addPortfolioForm").submit(function(){if(event.preventDefault(),!sessionStorage.memberId)return void alert("401, permission denied");let t=$("#addPortfolioTitle").val(),o=$("#addPortfolioDescription").val(),n=$("#addPortfolioImage").val(),i=$("#addPortfolioCategory").val(),a=$("#addPortfolioPrice").val(),r=sessionStorage.getItem("memberId");""==t||""==o||""==n||""==i||""==a?Swal.fire({title:"Empty Input Field",text:"Please fill in all input fields",icon:"warning",confirmButtonText:"OK"}):$.ajax({url:`${e}/addPortfolio`,type:"POST",data:{title:t,description:o,image:n,category:i,price:a,memberId:r},success:function(e){"Artwork already added"!==e?(Swal.fire({title:"Artwork Uploaded",text:"You project has been added to your portfolio",icon:"success",confirmButtonText:"OK"}),$("#addPortfolioTitle").val(),$("#addPortfolioDescription").val(),$("#addPortfolioImage").val(),$("#addPortfolioCategory").val(),$("#addPortfolioPrice").val(),$("#addPortfolioMemberId").val(),$("#addPortfolioForm").trigger("reset"),$("#uploadPortfolioPage").hide(),c(),$("#projectPage").show(),$("html, body").animate({scrollTop:50},"fast")):Swal.fire({title:"Title Taken",text:"Title has been taken already, please try another one",icon:"warning",confirmButtonText:"OK"})},error:function(){}})}),document.getElementById("filterButton").addEventListener("click",function(){let t=JSON.parse($("#filterDropdown-byPrice").val()).min,o=JSON.parse($("#filterDropdown-byPrice").val()).max,i=$("#filterDropdown-byCategory").val();$.ajax({url:`${e}/filterPortfolios/${t}/${o}/${i}`,type:"GET",success:function(e){"Sorry, there is no artwork that matches your search!"===e?document.getElementById("artsDeck").innerHTML='\n                                                                <div class="row mx-auto">\n                                                                    <h5 class="text-center mt-5 mb-5">\n                                                                        Sorry, there is no artwork that matches your search!\n                                                                    </h5>\n                                                                </div>':n(e)},error:function(e){console.log("Error: "+e)}})}),document.getElementById("updateMemberBtn").addEventListener("click",function(){$("#updateMemberBtn").hide(),document.getElementById("memberAccount").innerHTML='<form id="editUserForm">\n                                                            <div class="form-group row">\n                                                                <label for="editUserForm__username" class="col-md-3">\n                                                                    Username:\n                                                                </label>\n                                                                <input type="text" class="form-control col-md-9" id="editUserForm__username">\n                                                            </div>\n                                                            <div class="form-group row">\n                                                                <label for="editUserForm__email" class="col-md-3">\n                                                                    Email:\n                                                                </label>\n                                                                <input type="email" class="form-control col-md-9" id="editUserForm__email">\n                                                            </div>\n                                                            <div class="form-group row">\n                                                                <label for="editUserForm__description" class="col-md-3">\n                                                                    Description:\n                                                                </label>\n                                                                <textarea type="text" class="form-control col-md-9" id="editUserForm__description" rows="4"></textarea>\n                                                            </div>\n                                                            <div class="form-group row">\n                                                                <label for="editUserForm__location" class="col-md-3">\n                                                                    Location:\n                                                                </label>\n                                                                <input type="text" class="form-control col-md-9" id="editUserForm__location">\n                                                            </div>\n                                                            <div class="form-group row">\n                                                                <label for="editUserForm__website" class="col-md-3">\n                                                                    Website:\n                                                                </label>\n                                                                <input id="editUserForm__website" type="text" class="form-control col-md-9">\n                                                            </div>\n                                                            <button id="cancelEditUserForm" class="btn btn-danger btn-font radius float-left mb-5">\n                                                                Cancel\n                                                            </button>\n                                                            <button id="saveUserInfo" type="submit" class="float-right mb-5 btn btn-dark btn-font radius">\n                                                                Save\n                                                            </button>\n                                                        </form>',document.getElementById("editUserForm").addEventListener("submit",l),document.getElementById("cancelEditUserForm").addEventListener("click",d),function(){let t=sessionStorage.getItem("memberId");$.ajax({url:`${e}/myAccountInfo/${t}`,type:"GET",dataType:"json",success:function(e){$("#editUserForm__username").val(e.username),$("#editUserForm__email").val(e.email),$("#editUserForm__description").val(e.about),$("#editUserForm__website").val(e.website),$("#editUserForm__location").val(e.location)},error:function(e){console.log(e)}})}()}),$("#updatePortfolioForm").submit(function(){event.preventDefault();let t=sessionStorage.getItem("projectOnEdit"),o=$("#updatePortfolioTitle").val(),n=$("#updatePortfolioDescription").val(),i=$("#updatePortfolioImage").val(),a=$("#updatePortfolioCategory").val(),r=$("#updatePortfolioPrice").val();$.ajax({url:`${e}/updatePortfolio/${t}`,type:"PATCH",data:{title:o,description:n,image:i,category:a,price:r},success:function(e){sessionStorage.removeItem("projectOnEdit"),$("#updatePortfolioForm").trigger("reset"),$("#updatePortfolioPage").hide(),c(),$("#projectPage").show(),$("html, body").animate({scrollTop:0},"fast")},error:function(){console.log("error: cannot call api")}})})});